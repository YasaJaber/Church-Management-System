<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ø³Ø±ÙŠØ¹</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; text-align: center; }
        button { padding: 10px 20px; margin: 10px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #0056b3; }
        .success { color: green; font-weight: bold; margin: 10px; }
        .info { background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 10px; }
    </style>
</head>
<body>
    <h1>ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙˆÙƒÙ† Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ÙØ±Ø¯ÙŠØ©</h1>
    
    <div class="info">
        <p>Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ù„ØªØ¹ÙŠÙŠÙ† ØªÙˆÙƒÙ† Ø£Ù…ÙŠÙ† Ø§Ù„Ø®Ø¯Ù…Ø© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø³Ø±ÙŠØ¹</p>
    </div>
    
    <button onclick="setServiceLeaderToken()">ØªØ¹ÙŠÙŠÙ† ØªÙˆÙƒÙ† Ø£Ù…ÙŠÙ† Ø§Ù„Ø®Ø¯Ù…Ø©</button>
    <button onclick="clearTokens()">Ù…Ø³Ø­ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª</button>
    <button onclick="checkTokens()">ÙØ­Øµ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª</button>
    
    <div id="result"></div>
    
    <script>
        const serviceLeaderToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4OGYyMTc3NjI0OWIzODJjZTkzYmZmNiIsInJvbGUiOiJzZXJ2aWNlTGVhZGVyIiwidXNlcm5hbWUiOiJhbWluX2toZWRtYSIsImlhdCI6MTc1NDIxMDg4MSwiZXhwIjoxNzU0ODE1NjgxfQ.lJ3k1ftAG326g27f3aZ-OPX07Uz_VT7d2p4lbPyAaeE';
        
        function setServiceLeaderToken() {
            try {
                localStorage.setItem('auth_token', serviceLeaderToken);
                localStorage.setItem('userToken', serviceLeaderToken);
                
                // Also set in cookies as fallback
                document.cookie = `auth_token=${serviceLeaderToken}; path=/; max-age=604800`;
                document.cookie = `userToken=${serviceLeaderToken}; path=/; max-age=604800`;
                
                document.getElementById('result').innerHTML = '<div class="success">âœ… ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙˆÙƒÙ† Ø¨Ù†Ø¬Ø§Ø­!</div>';
                
                // Redirect to children tracking page
                setTimeout(() => {
                    window.location.href = '/children-tracking';
                }, 1000);
            } catch (error) {
                document.getElementById('result').innerHTML = '<div style="color: red;">âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙˆÙƒÙ†: ' + error.message + '</div>';
            }
        }
        
        function clearTokens() {
            localStorage.removeItem('auth_token');
            localStorage.removeItem('userToken');
            document.cookie = 'auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;';
            document.cookie = 'userToken=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;';
            document.getElementById('result').innerHTML = '<div style="color: orange;">ğŸ—‘ï¸ ØªÙ… Ù…Ø³Ø­ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª</div>';
        }
        
        function checkTokens() {
            const authToken = localStorage.getItem('auth_token');
            const userToken = localStorage.getItem('userToken');
            
            let result = '<div class="info">';
            result += '<h3>Ø­Ø§Ù„Ø© Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª:</h3>';
            result += '<p>auth_token: ' + (authToken ? 'âœ… Ù…ÙˆØ¬ÙˆØ¯' : 'âŒ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯') + '</p>';
            result += '<p>userToken: ' + (userToken ? 'âœ… Ù…ÙˆØ¬ÙˆØ¯' : 'âŒ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯') + '</p>';
            result += '</div>';
            
            document.getElementById('result').innerHTML = result;
        }
        
        // Check tokens on page load
        window.onload = function() {
            checkTokens();
        };
    </script>
</body>
</html>
