# ุฅุตูุงุญ ูุดููุฉ ุฑุงุจุท API ุงูุฎุงุทุฆ

## API URL Fix Instructions

## ุงููุดููุฉ / Problem

ุงููููุน ูุญุงูู ุงูุงุชุตุงู ุจุฑุงุจุท ุฎุงุทุฆ `church-management-system-1-i51l.onrender.com` ุจุฏูุงู ูู ุงูุฑุงุจุท ุงูุตุญูุญ `church-management-system-b6h7.onrender.com`

## ุงูุญู / Solution

### 1. ุงูุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู ููุตุฉ ุงููุดุฑ

**ุฅุฐุง ูุงู ุงููููุน ููุดูุฑ ุนูู Vercel:**

1. ุงุฐูุจ ุฅูู ููุญุฉ ุชุญูู Vercel
2. ุงุฎุชุฑ ุงููุดุฑูุน
3. ุงุฐูุจ ุฅูู Settings โ Environment Variables
4. ุชุฃูุฏ ูู ุฃู ุงููุชุบูุฑุงุช ุงูุชุงููุฉ ูุญุฏุฏุฉ ุจุดูู ุตุญูุญ:
   ```
   NEXT_PUBLIC_API_URL = https://church-management-system-b6h7.onrender.com/api
   NEXT_PUBLIC_USE_PRODUCTION = true
   NODE_ENV = production
   ```

**ุฅุฐุง ูุงู ุงููููุน ููุดูุฑ ุนูู Render:**

1. ุงุฐูุจ ุฅูู ููุญุฉ ุชุญูู Render
2. ุงุฎุชุฑ ุงูุฎุฏูุฉ (Service)
3. ุงุฐูุจ ุฅูู Environment
4. ุฃุถู/ุนุฏู ุงููุชุบูุฑุงุช ุงูุชุงููุฉ:
   ```
   NEXT_PUBLIC_API_URL = https://church-management-system-b6h7.onrender.com/api
   NEXT_PUBLIC_USE_PRODUCTION = true
   NODE_ENV = production
   ```

### 2. ุฅุนุงุฏุฉ ุงููุดุฑ

ุจุนุฏ ุชุญุฏูุซ ูุชุบูุฑุงุช ุงูุจูุฆุฉุ ูู ุจุฅุนุงุฏุฉ ูุดุฑ ุงููููุน:

- ูู Vercel: ุณูุชู ุฅุนุงุฏุฉ ุงููุดุฑ ุชููุงุฆูุงู
- ูู Render: ุงุถุบุท ุนูู "Manual Deploy" ุฃู ุงุฏูุน ุชุญุฏูุซ ุฌุฏูุฏ ููููุฏ

### 3. ุงูุชุญูู ูู ุงูุฅุตูุงุญ

1. ุงูุชุญ ุงููููุน ูู ุงููุชุตูุญ
2. ุงูุชุญ Developer Tools (F12)
3. ุงุฐูุจ ุฅูู Console
4. ุงุจุญุซ ุนู ุฑุณุงุฆู ูุซู:
   ```
   ๐ง API Configuration: { API_BASE_URL: "https://church-management-system-b6h7.onrender.com/api" }
   ```
5. ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ุชุญุชูู ุนูู `i51l`

### 4. ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

ุฅุฐุง ูุงู ุงููููุน ูุง ูุฒุงู ูุณุชุฎุฏู ุงูุฑุงุจุท ุงูุฎุงุทุฆ:

1. **ุงูุณุญ ุงููุงุด:**

   - ุงูุณุญ ูุงุด ุงููุชุตูุญ
   - ุงูุณุญ ูุงุด CDN ุฅุฐุง ููุช ุชุณุชุฎุฏู ูุงุญุฏ

2. **ุชุญูู ูู ุงูููุฏ ุงููุญูู:**

   ```bash
   cd web
   npm run build
   npm start
   ```

3. **ุงุจุญุซ ุนู ุงูุฑุงุจุท ุงูุฎุงุทุฆ ูู ุงูููุฏ:**
   ```bash
   grep -r "i51l" src/
   grep -r "church-management-system-1" src/
   ```

## ุงููููุงุช ุงูุชู ุชู ุฅุตูุงุญูุง / Fixed Files

- โ `src/config/api.ts` - ุฅุนุฏุงุฏุงุช API ุงูุฃุณุงุณูุฉ
- โ `src/services/api.ts` - ุฎุฏูุฉ API ุงูุฑุฆูุณูุฉ
- โ `vercel.json` - ุฅุนุฏุงุฏุงุช ุงููุดุฑ ุนูู Vercel
- โ `src/app/dashboard/page.tsx` - ุฅุถุงูุฉ ูุญุต ููุฑุงุจุท ุงูุฎุงุทุฆ

## ููุงุญุธุงุช ูููุฉ / Important Notes

- ุงูุฑุงุจุท ุงูุตุญูุญ: `https://church-management-system-b6h7.onrender.com/api`
- ุงูุฑุงุจุท ุงูุฎุงุทุฆ: `https://church-management-system-1-i51l.onrender.com`
- ุชุฃูุฏ ูู ุฃู Backend ูุนูู ุนูู ุงูุฑุงุจุท ุงูุตุญูุญ
- ุฅุฐุง ูุงู Backend ููุดูุฑ ุนูู ุฑุงุจุท ูุฎุชููุ ุญุฏุซ ุฌููุน ุงููููุงุช ุจุงูุฑุงุจุท ุงูุฌุฏูุฏ

## ุงุฎุชุจุงุฑ ุงูุงุชุตุงู / Connection Test

ููููู ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจู Backend ูุจุงุดุฑุฉ:

```bash
curl https://church-management-system-b6h7.onrender.com/api
```

ูุฌุจ ุฃู ุชุฑู ุงุณุชุฌุงุจุฉ ูู ุงูุฎุงุฏู (ุญุชู ูู ูุงูุช 404ุ ุงูููู ุฃูุง ุชููู ุฎุทุฃ ุงุชุตุงู).
